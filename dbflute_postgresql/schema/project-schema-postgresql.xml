<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE database SYSTEM "http://dbflute.org/meta/database.dtd">
<!-- Auto-generated by JDBC task! -->
<database name="public">
    <table
        comment="会員: 会員登録時にデータが登録される。基本的に物理削除はなく、退会したらステータスが退会会員になる。ライフサイクルやカテゴリの違う会員それぞれの詳細情報は、別途 one-to-one のテーブルに。"
        name="member" schema="exampledb.public" type="TABLE">
        <column autoIncrement="true"
            comment="会員ID: 会員を識別するID。連番として自動採番される。&#xa;（会員IDだけに限らず）採番方法はDBMS次第。"
            dbType="serial"
            default="nextval('member_member_id_seq'::regclass)"
            javaType="Integer" name="member_id" pkName="member_pkey"
            pkPosition="1" primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column
            comment="会員名称: 会員のフルネームの名称。&#xa;苗字と名前を分けて管理することも多いが、ここでは Example なので単純にひとまとめ。"
            dbType="varchar" javaType="String" name="member_name"
            required="true" size="200" type="VARCHAR"/>
        <column
            comment="会員アカウント: 会員がログイン時に利用するアカウントNO。&#xa;昨今、メールアドレスをログインIDとすることが多いので、あまり見かけなくないかも。"
            dbType="varchar" javaType="String" name="member_account"
            required="true" size="50" type="VARCHAR"/>
        <column
            comment="会員ステータスコード: 会員ステータスを参照するコード。&#xa;ステータスが変わるたびに、このカラムが更新される。"
            dbType="bpchar" javaType="String" name="member_status_code"
            required="true" size="3" type="CHAR"/>
        <column comment="正式会員日時: 会員が正式に確定した日時。&#xa;一度確定したら更新されない。"
            dbType="timestamp" javaType="java.time.LocalDateTime"
            name="formalized_datetime" size="26, 3" type="TIMESTAMP"/>
        <column comment="生年月日: 必須項目ではないので、このデータがない会員もいる。" dbType="date"
            javaType="java.time.LocalDate" name="birthdate" size="13" type="DATE"/>
        <column
            comment="登録日時: レコードが登録された日時。&#xa;会員が登録された日時とほぼ等しいが、そういった業務的な役割を兼務させるのはあまり推奨されない。&#xa;どのテーブルでも同じなので、共通カラムの説明はこのテーブルでしか書かない。"
            dbType="timestamp" javaType="java.time.LocalDateTime"
            name="register_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column
            comment="登録ユーザ: レコードを登録したユーザ。&#xa;会員テーブルであれば当然、会員自身であるはずだが、他のテーブルの場合では管理画面から運用者による登録など考えられるので、しっかり保持しておく。"
            dbType="varchar" javaType="String" name="register_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String"
            name="register_process" required="true" size="200" type="VARCHAR"/>
        <column
            comment="更新日時: レコードが（最後に）更新された日時。&#xa;業務的な利用はあまり推奨されないと別項目で説明したが、このカラムはソートの要素としてよく利用される。"
            dbType="timestamp" javaType="java.time.LocalDateTime"
            name="update_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column
            comment="更新ユーザ: レコードを更新したユーザ。&#xa;システムは誰が何をしたのかちゃんと覚えている。"
            dbType="varchar" javaType="String" name="update_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="update_process"
            required="true" size="200" type="VARCHAR"/>
        <column
            comment="バージョンNO: レコードのバージョンを示すNO。&#xa;更新回数と等しく、主に排他制御のために利用される。"
            dbType="int8" javaType="Long" name="version_no"
            required="true" size="19" type="BIGINT"/>
        <foreign-key foreignSchema="public" foreignTable="member_status" name="fk_member_member_status">
            <reference foreign="member_status_code" local="member_status_code"/>
        </foreign-key>
        <unique name="uq_member">
            <unique-column name="member_account" position="1"/>
        </unique>
        <index name="ix_member_formalized_datetime">
            <index-column name="formalized_datetime" position="1"/>
        </index>
        <index name="ix_member_member_name">
            <index-column name="member_name" position="1"/>
        </index>
    </table>
    <table
        comment="会員住所情報: 会員の住所に関する情報で、同時に有効期間ごとに履歴管理されている。&#xa;会員を基点に考えた場合、構造的にはone-to-many だが、業務的な定型条件でone-to-one になる。このような構造を「業務的one-to-one」と呼ぶ。&#xa;有効期間は隙間なく埋められるが、ここでは住所情報のない会員も存在し、厳密には(業務的な) &quot;1 : 0...1&quot; である。"
        name="member_address" schema="exampledb.public" type="TABLE">
        <column autoIncrement="true"
            comment="会員住所ID: 会員住所を識別するID。&#xa;履歴分も含むテーブルなので、これ自体はFKではない。"
            dbType="serial"
            default="nextval('member_address_member_address_id_seq'::regclass)"
            javaType="Integer" name="member_address_id"
            pkName="member_address_pkey" pkPosition="1"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column
            comment="会員ID: 会員を参照するID。&#xa;履歴分を含むため、これだけではユニークにはならない。&#xa;有効開始日と合わせて複合ユニーク制約となるが、&#xa;厳密には完全な制約にはなっていない。&#xa;有効期間の概念はRDBでは表現しきれないのである。"
            dbType="int4" javaType="Integer" name="member_id"
            required="true" size="10" type="INTEGER"/>
        <column
            comment="有効開始日: 一つの有効期間の開始を示す日付。&#xa;前の有効終了日の次の日の値が格納される。"
            dbType="date" javaType="java.time.LocalDate"
            name="valid_begin_date" required="true" size="13" type="DATE"/>
        <column
            comment="有効終了日: 有効期間の終了日。&#xa;次の有効開始日の一日前の値が格納される。&#xa;ただし、次の有効期間がない場合は 9999/12/31 となる。"
            dbType="date" javaType="java.time.LocalDate"
            name="valid_end_date" required="true" size="13" type="DATE"/>
        <column comment="住所: まるごと住所" dbType="varchar" javaType="String"
            name="address" required="true" size="200" type="VARCHAR"/>
        <column
            comment="地域ID: 地域を参照するID。&#xa;ここでは特に住所の内容と連動しているわけではない。&#xa;（業務的one-to-oneの親テーブルの表現したかっ...）"
            dbType="int4" javaType="Integer" name="region_id"
            required="true" size="10" type="INTEGER"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="register_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String"
            name="register_process" required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="register_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="update_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String" name="update_process"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="update_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="int8" javaType="Long" name="version_no"
            required="true" size="19" type="BIGINT"/>
        <foreign-key foreignSchema="public" foreignTable="member" name="fk_member_address_member">
            <reference foreign="member_id" local="member_id"/>
        </foreign-key>
        <foreign-key foreignSchema="public" foreignTable="region" name="fk_member_address_region">
            <reference foreign="region_id" local="region_id"/>
        </foreign-key>
        <unique name="uq_member_address">
            <unique-column name="member_id" position="1"/>
            <unique-column name="valid_begin_date" position="2"/>
        </unique>
    </table>
    <table
        comment="会員ログイン: ログインするたびに登録されるログイン履歴。&#xa;登録されたら更新されるも削除されることもない。さらには登録する人もプログラムもはっきりしているので、ここでは共通カラムは(紙面の都合上もあって)省略している。"
        name="member_login" schema="exampledb.public" type="TABLE">
        <column autoIncrement="true" comment="会員ログインID: "
            dbType="bigserial"
            default="nextval('member_login_member_login_id_seq'::regclass)"
            javaType="Long" name="member_login_id"
            pkName="member_login_pkey" pkPosition="1" primaryKey="true"
            required="true" size="19" type="BIGINT"/>
        <column comment="会員ID: " dbType="int4" javaType="Integer"
            name="member_id" required="true" size="10" type="INTEGER"/>
        <column comment="ログイン日時: ログインした瞬間の日時。" dbType="timestamp"
            javaType="java.time.LocalDateTime" name="login_datetime"
            required="true" size="26, 3" type="TIMESTAMP"/>
        <column comment="モバイルログインフラグ: モバイル機器からのログインか否か。" dbType="int4"
            javaType="Integer" name="mobile_login_flg" required="true"
            size="10" type="INTEGER"/>
        <column comment="ログイン会員ステータスコード: ログイン時の会員ステータス" dbType="bpchar"
            javaType="String" name="login_member_status_code"
            required="true" size="3" type="CHAR"/>
        <foreign-key foreignSchema="public" foreignTable="member_status" name="fk_member_login_member_status">
            <reference foreign="member_status_code" local="login_member_status_code"/>
        </foreign-key>
        <foreign-key foreignSchema="public" foreignTable="member" name="fk_member_login_member">
            <reference foreign="member_id" local="member_id"/>
        </foreign-key>
        <unique name="uq_member_login">
            <unique-column name="member_id" position="1"/>
            <unique-column name="login_datetime" position="2"/>
        </unique>
        <index name="ix_member_login_datetime">
            <index-column name="login_datetime" position="1"/>
        </index>
    </table>
    <table
        comment="会員セキュリティ情報: 会員とは one-to-one で、会員一人につき必ず一つのセキュリティ情報がある"
        name="member_security" schema="exampledb.public" type="TABLE">
        <column comment="会員ID: そのまま one-to-one を構成するためのFKとなる。"
            dbType="int4" javaType="Integer" name="member_id"
            pkName="member_security_pkey" pkPosition="1"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column
            comment="ログインパスワード: ログイン時に利用するパスワード。&#xa;本当は良くないが、Exampleなのでひとまず暗号化していない。"
            dbType="varchar" javaType="String" name="login_password"
            required="true" size="50" type="VARCHAR"/>
        <column comment="リマインダ質問: パスワードを忘れた際のリマインダ機能における質問の内容。"
            dbType="varchar" javaType="String" name="reminder_question"
            required="true" size="50" type="VARCHAR"/>
        <column comment="リマインダ回答: パスワードを忘れた際のリマインダ機能における質問の答え。"
            dbType="varchar" javaType="String" name="reminder_answer"
            required="true" size="50" type="VARCHAR"/>
        <column
            comment="リマインダ利用回数: リマインダを利用した回数。&#xa;多いと忘れっぽい会員と言えるが、&#xa;そんなことを知ってもしょうがない。"
            dbType="int4" javaType="Integer" name="reminder_use_count"
            required="true" size="10" type="INTEGER"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="register_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String"
            name="register_process" required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="register_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="update_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String" name="update_process"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="update_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="int8" javaType="Long" name="version_no"
            required="true" size="19" type="BIGINT"/>
        <foreign-key foreignSchema="public" foreignTable="member" name="fk_member_sc_info_member">
            <reference foreign="member_id" local="member_id"/>
        </foreign-key>
    </table>
    <table
        comment="会員サービス: 会員のサービス情報（ポイントサービスなど）。&#xa;ExampleDBとして、あえて統一性を崩してユニーク制約経由の one-to-one を表現している。"
        name="member_service" schema="exampledb.public" type="TABLE">
        <column autoIncrement="true"
            comment="会員サービスID: 独立した主キーとなるが、実質的に会員IDとは one-to-one である。"
            dbType="serial"
            default="nextval('member_service_member_service_id_seq'::regclass)"
            javaType="Integer" name="member_service_id"
            pkName="member_service_pkey" pkPosition="1"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column comment="会員ID: 会員を参照するID。ユニークなので、会員とは one-to-one の関係に。"
            dbType="int4" javaType="Integer" name="member_id"
            required="true" size="10" type="INTEGER"/>
        <column
            comment="サービスポイント数: 会員が現在利用できるサービスポイントの数。&#xa;基本的に、購入時には増えてポイントを使ったら減る。"
            dbType="int4" javaType="Integer" name="service_point_count"
            required="true" size="10" type="INTEGER"/>
        <column
            comment="サービスランクコード: サービスランクを参照するコード。&#xa;どんなランクがあるのかドキドキですね。"
            dbType="bpchar" javaType="String" name="service_rank_code"
            required="true" size="3" type="CHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="register_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String"
            name="register_process" required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="register_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="update_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String" name="update_process"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="update_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="int8" javaType="Long" name="version_no"
            required="true" size="19" type="BIGINT"/>
        <foreign-key foreignSchema="public" foreignTable="member" name="fk_member_service_member">
            <reference foreign="member_id" local="member_id"/>
        </foreign-key>
        <foreign-key foreignSchema="public" foreignTable="service_rank" name="fk_member_service_service_rank_code">
            <reference foreign="service_rank_code" local="service_rank_code"/>
        </foreign-key>
        <unique name="uq_member_service">
            <unique-column name="member_id" position="1"/>
        </unique>
        <index name="ix_member_service_point_count">
            <index-column name="service_point_count" position="1"/>
        </index>
    </table>
    <table
        comment="会員ステータス: 会員のステータスを示す固定的なマスタテーブル。&#xa;業務で増えることはなく、増減するときは実装もともなうレベルの業務変更と考えられる。&#xa;&#xa;こういった固定的なマスタテーブルには、更新日時などの共通カラムは定義していないが、業務上そういった情報を管理する必要性が低いという理由に加え、ExampleDBとして共通カラムでER図が埋め尽くされてしまい見づらくなるという&#xa;ところで割り切っている。実業務では統一的に定義することもある。"
        name="member_status" schema="exampledb.public" type="TABLE">
        <column
            comment="会員ステータスコード: 会員ステータスを識別するコード。&#xa;固定的なデータなので、連番とか番号にはせず、&#xa;データを直接見たときも人が直感的にわかるように、&#xa;このような３桁のコード形式にしている。&#xa;"
            dbType="bpchar" javaType="String" name="member_status_code"
            pkName="member_status_pkey" pkPosition="1" primaryKey="true"
            required="true" size="3" type="CHAR"/>
        <column comment="会員ステータス名称: " dbType="varchar" javaType="String"
            name="member_status_name" required="true" size="50" type="VARCHAR"/>
        <column
            comment="説明: 会員ステータスそれぞれの説明。&#xa;気の利いた説明があるとディベロッパーがとても助かる。"
            dbType="varchar" javaType="String" name="description"
            required="true" size="200" type="VARCHAR"/>
        <column
            comment="表示順: UI上のステータスの表示順を示すNO。&#xa;並べるときは、このカラムに対して昇順のソート条件にする。"
            dbType="int4" javaType="Integer" name="display_order"
            required="true" size="10" type="INTEGER"/>
        <unique name="uq_member_status_display_order">
            <unique-column name="display_order" position="1"/>
        </unique>
    </table>
    <table
        comment="会員退会情報: 退会会員の退会に関する詳細な情報。&#xa;退会会員のみデータが存在する。（&quot;1 : 0...1&quot; のパターンの one-to-one）&#xa;共通カラムがあってバージョンNOがないパターン。基本的に更新が入ることはないが、登録ユーザを保持したいのと、重要なデータなので更新系の情報も。"
        name="member_withdrawal" schema="exampledb.public" type="TABLE">
        <column dbType="int4" javaType="Integer" name="member_id"
            pkName="member_withdrawal_pkey" pkPosition="1"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column
            comment="退会理由コード: 退会した定型理由を参照するコード。&#xa;何も言わずに退会する会員もいるので必須項目ではない。"
            dbType="bpchar" javaType="String"
            name="withdrawal_reason_code" size="3" type="CHAR"/>
        <column
            comment="退会理由入力テキスト: 会員がフリーテキストで入力できる退会理由。&#xa;もう言いたいこと言ってもらう感じ。&#xa;サイト運営側としては真摯に受け止めて改善していきたい。"
            dbType="text" javaType="String"
            name="withdrawal_reason_input_text" size="2147483647" type="VARCHAR"/>
        <column
            comment="退会日時: 退会した瞬間の日時。&#xa;正式会員日時と違い、こっちはone-to-oneの別テーブルで。"
            dbType="timestamp" javaType="java.time.LocalDateTime"
            name="withdrawal_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="register_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String"
            name="register_process" required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="register_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="update_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String" name="update_process"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="update_user"
            required="true" size="200" type="VARCHAR"/>
        <foreign-key foreignSchema="public" foreignTable="member" name="fk_member_withdrawal_info_member">
            <reference foreign="member_id" local="member_id"/>
        </foreign-key>
        <foreign-key foreignSchema="public"
            foreignTable="withdrawal_reason" name="fk_member_withdrawal_info_withdrawal_reason">
            <reference foreign="withdrawal_reason_code" local="withdrawal_reason_code"/>
        </foreign-key>
    </table>
    <table comment="商品: " name="product" schema="exampledb.public" type="TABLE">
        <column autoIncrement="true" dbType="serial"
            default="nextval('product_product_id_seq'::regclass)"
            javaType="Integer" name="product_id" pkName="product_pkey"
            pkPosition="1" primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column
            comment="商品名称: ExampleDBとして、コメントの少ないケースを表現するため、&#xa;あえてコメントを控えている。実業務ではしっかりとコメントを&#xa;入れることが強く強く推奨される。"
            dbType="varchar" javaType="String" name="product_name"
            required="true" size="50" type="VARCHAR"/>
        <column comment="商品ハンドルコード: 商品を識別する業務上のコード。" dbType="varchar"
            javaType="String" name="product_handle_code" required="true"
            size="100" type="VARCHAR"/>
        <column dbType="bpchar" javaType="String"
            name="product_category_code" required="true" size="3" type="CHAR"/>
        <column dbType="bpchar" javaType="String"
            name="product_status_code" required="true" size="3" type="CHAR"/>
        <column dbType="int4" javaType="Integer" name="regular_price"
            required="true" size="10" type="INTEGER"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="register_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String" name="register_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String"
            name="register_process" required="true" size="200" type="VARCHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="update_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String" name="update_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="update_process"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="int8" javaType="Long" name="version_no"
            required="true" size="19" type="BIGINT"/>
        <foreign-key foreignSchema="public"
            foreignTable="product_category" name="fk_product_product_category">
            <reference foreign="product_category_code" local="product_category_code"/>
        </foreign-key>
        <foreign-key foreignSchema="public"
            foreignTable="product_status" name="fk_product_product_status">
            <reference foreign="product_status_code" local="product_status_code"/>
        </foreign-key>
        <unique name="uq_product">
            <unique-column name="product_handle_code" position="1"/>
        </unique>
        <index name="ix_product_product_name">
            <index-column name="product_name" position="1"/>
        </index>
    </table>
    <table comment="商品カテゴリ: 商品のカテゴリを表現するマスタ。&#xa;自己参照の階層になっている。"
        name="product_category" schema="exampledb.public" type="TABLE">
        <column comment="商品カテゴリコード: " dbType="bpchar" javaType="String"
            name="product_category_code" pkName="product_category_pkey"
            pkPosition="1" primaryKey="true" required="true" size="3" type="CHAR"/>
        <column comment="商品カテゴリ名称: " dbType="varchar" javaType="String"
            name="product_category_name" required="true" size="50" type="VARCHAR"/>
        <column comment="親カテゴリコード: 最上位の場合はデータなし。" dbType="bpchar"
            javaType="String" name="parent_category_code" size="3" type="CHAR"/>
        <foreign-key foreignSchema="public"
            foreignTable="product_category" name="fk_product_category_parent">
            <reference foreign="product_category_code" local="parent_category_code"/>
        </foreign-key>
    </table>
    <table comment="商品ステータス: 商品のステータスを表現する固定的なマスタ。"
        name="product_status" schema="exampledb.public" type="TABLE">
        <column comment="商品ステータスコード: 商品ステータスを識別するコード。" dbType="bpchar"
            javaType="String" name="product_status_code"
            pkName="product_status_pkey" pkPosition="1"
            primaryKey="true" required="true" size="3" type="CHAR"/>
        <column dbType="varchar" javaType="String"
            name="product_status_name" required="true" size="50" type="VARCHAR"/>
        <column dbType="int4" javaType="Integer" name="display_order"
            required="true" size="10" type="INTEGER"/>
        <unique name="uq_product_status_display_order">
            <unique-column name="display_order" position="1"/>
        </unique>
    </table>
    <table
        comment="購入: 一つの商品に対する購入を表現する。&#xa;実業務であれば購入詳細というテーブルを作り、「購入という行為」と「その中身（詳細）」を違う粒度のデータとしてそれぞれ管理するのが一般的と言えるでしょう。というか、注文とか請求とかそういうことを考え始めたらもっと複雑になるはずですが、ExampleDBということで割り切っています。"
        name="purchase" schema="exampledb.public" type="TABLE">
        <column autoIncrement="true" dbType="bigserial"
            default="nextval('purchase_purchase_id_seq'::regclass)"
            javaType="Long" name="purchase_id" pkName="purchase_pkey"
            pkPosition="1" primaryKey="true" required="true" size="19" type="BIGINT"/>
        <column
            comment="会員ID: 会員を参照するID。&#xa;購入を識別する自然キー（複合ユニーク制約）の筆頭要素。"
            dbType="int4" javaType="Integer" name="member_id"
            required="true" size="10" type="INTEGER"/>
        <column comment="商品ID: 商品を参照するID。" dbType="int4"
            javaType="Integer" name="product_id" required="true"
            size="10" type="INTEGER"/>
        <column comment="購入日時: 購入した瞬間の日時。" dbType="timestamp"
            javaType="java.time.LocalDateTime" name="purchase_datetime"
            required="true" size="26, 3" type="TIMESTAMP"/>
        <column comment="購入数量: 購入した商品の（一回の購入における）数量。" dbType="int4"
            javaType="Integer" name="purchase_count" required="true"
            size="10" type="INTEGER"/>
        <column
            comment="購入価格: 購入によって実際に会員が支払った（支払う予定の）価格。&#xa;基本は商品の定価に購入数量を掛けたものになるが、&#xa;ポイント利用や割引があったりと必ずしもそうはならない。"
            dbType="int4" javaType="Integer" name="purchase_price"
            required="true" size="10" type="INTEGER"/>
        <column comment="支払完了フラグ: この購入に関しての支払いが完了しているか否か。" dbType="int4"
            javaType="Integer" name="payment_complete_flg"
            required="true" size="10" type="INTEGER"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="register_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String" name="register_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String"
            name="register_process" required="true" size="200" type="VARCHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="update_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String" name="update_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="varchar" javaType="String" name="update_process"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="int8" javaType="Long" name="version_no"
            required="true" size="19" type="BIGINT"/>
        <foreign-key foreignSchema="public" foreignTable="member" name="fk_purchase_member">
            <reference foreign="member_id" local="member_id"/>
        </foreign-key>
        <foreign-key foreignSchema="public" foreignTable="product" name="fk_purchase_product">
            <reference foreign="product_id" local="product_id"/>
        </foreign-key>
        <unique name="uq_purchase">
            <unique-column name="member_id" position="1"/>
            <unique-column name="product_id" position="2"/>
            <unique-column name="purchase_datetime" position="3"/>
        </unique>
        <index name="ix_purchase_datetime_member">
            <index-column name="purchase_datetime" position="1"/>
            <index-column name="member_id" position="2"/>
        </index>
        <index name="ix_purchase_price">
            <index-column name="purchase_price" position="1"/>
        </index>
        <index name="ix_purchase_product_datetime">
            <index-column name="product_id" position="1"/>
            <index-column name="purchase_datetime" position="2"/>
        </index>
    </table>
    <table
        comment="購入支払: 購入に対する支払。&#xa;分割払いもできるのでmanyとなり、会員からの孫テーブルのテストができてうれしい。"
        name="purchase_payment" schema="exampledb.public" type="TABLE">
        <column autoIncrement="true" comment="購入支払ID: 連番"
            dbType="bigserial"
            default="nextval('purchase_payment_purchase_payment_id_seq'::regclass)"
            javaType="Long" name="purchase_payment_id"
            pkName="purchase_payment_pkey" pkPosition="1"
            primaryKey="true" required="true" size="19" type="BIGINT"/>
        <column comment="購入ID: 支払い対象の購入へのID" dbType="int8"
            javaType="Long" name="purchase_id" required="true" size="19" type="BIGINT"/>
        <column comment="支払金額: 支払った金額。さて、小数点なのはなぜでしょう？" dbType="numeric"
            javaType="java.math.BigDecimal" name="payment_amount"
            required="true" size="10, 2" type="NUMERIC"/>
        <column comment="支払日時: 支払ったときの日時" dbType="timestamp"
            javaType="java.time.LocalDateTime" name="payment_datetime"
            required="true" size="26, 3" type="TIMESTAMP"/>
        <column comment="支払方法コード: 手渡しや銀行振込など" dbType="bpchar"
            javaType="String" name="payment_method_code" required="true"
            size="3" type="CHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="register_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String" name="register_user"
            required="true" size="200" type="VARCHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="update_datetime" required="true" size="26, 3" type="TIMESTAMP"/>
        <column dbType="varchar" javaType="String" name="update_user"
            required="true" size="200" type="VARCHAR"/>
        <foreign-key foreignSchema="public" foreignTable="purchase" name="fk_purchase_payment_purchase">
            <reference foreign="purchase_id" local="purchase_id"/>
        </foreign-key>
        <index name="ix_purchase_payment_datetime">
            <index-column name="payment_datetime" position="1"/>
            <index-column name="payment_amount" position="2"/>
        </index>
    </table>
    <table
        comment="地域: 主に会員の住所に対応する地域。&#xa;かなりざっくりした感じではある。&#xa;業務的one-to-oneの親テーブル。"
        name="region" schema="exampledb.public" type="TABLE">
        <column
            comment="地域ID: 地域を識別するID。&#xa;珍しく(固定的な)マスタテーブルとしては数値だが、&#xa;Exampleなのでやはり色々なパターンがないと。"
            dbType="int4" javaType="Integer" name="region_id"
            pkName="region_pkey" pkPosition="1" primaryKey="true"
            required="true" size="10" type="INTEGER"/>
        <column comment="地域名称: 地域を表す名称。" dbType="varchar"
            javaType="String" name="region_name" required="true"
            size="50" type="VARCHAR"/>
    </table>
    <table comment="サービスランク: 会員のサービスレベルを表現するランク。&#xa;（ゴールドとかプラチナとか）"
        name="service_rank" schema="exampledb.public" type="TABLE">
        <column comment="サービスランクコード: サービスランクを識別するコード。" dbType="bpchar"
            javaType="String" name="service_rank_code"
            pkName="service_rank_pkey" pkPosition="1" primaryKey="true"
            required="true" size="3" type="CHAR"/>
        <column
            comment="サービスランク名称: サービスランクの名称。&#xa;（ゴールドとかプラチナとか基本的には威厳のある名前）"
            dbType="varchar" javaType="String" name="service_rank_name"
            required="true" size="50" type="VARCHAR"/>
        <column
            comment="サービスポイント発生率: 購入ごとのサービスポイントの発生率。&#xa;購入価格にこの値をかけた数が発生ポイント。&#xa;ExampleDBとして数少ない貴重な小数点ありのカラム。"
            dbType="numeric" javaType="java.math.BigDecimal"
            name="service_point_incidence" required="true" size="5, 3" type="NUMERIC"/>
        <column comment="新規受け入れ可能フラグ: このランクへの新規受け入れができるかどうか。"
            dbType="int4" javaType="Integer" name="new_acceptable_flg"
            required="true" size="10" type="INTEGER"/>
        <column comment="説明: ランクに関する業務的な説明。" dbType="varchar"
            javaType="String" name="description" required="true"
            size="200" type="VARCHAR"/>
        <column comment="表示順: UI上の表示順を表現する番号。" dbType="int4"
            javaType="Integer" name="display_order" required="true"
            size="10" type="INTEGER"/>
        <unique name="uq_service_rank_display_order">
            <unique-column name="display_order" position="1"/>
        </unique>
    </table>
    <table name="summary_product" schema="exampledb.public" type="VIEW">
        <column dbType="int4" javaType="Integer" name="product_id"
            size="10" type="INTEGER"/>
        <column dbType="varchar" javaType="String" name="product_name"
            size="50" type="VARCHAR"/>
        <column dbType="bpchar" javaType="String"
            name="product_status_code" size="3" type="CHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="latest_purchase_datetime" size="29, 6" type="TIMESTAMP"/>
    </table>
    <table name="white_compound_pk" schema="exampledb.public" type="TABLE">
        <column dbType="int4" javaType="Integer" name="pk_first_id"
            pkName="white_compound_pk_pkey" pkPosition="1"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column dbType="int4" javaType="Integer" name="pk_second_id"
            pkName="white_compound_pk_pkey" pkPosition="2"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column dbType="varchar" javaType="String" name="pk_name"
            required="true" size="200" type="VARCHAR"/>
    </table>
    <table name="white_compound_pk_ref" schema="exampledb.public" type="TABLE">
        <column dbType="int4" javaType="Integer"
            name="multiple_first_id" pkName="white_compound_pk_ref_pkey"
            pkPosition="1" primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column dbType="int4" javaType="Integer"
            name="multiple_second_id"
            pkName="white_compound_pk_ref_pkey" pkPosition="2"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column dbType="int4" javaType="Integer" name="ref_first_id"
            required="true" size="10" type="INTEGER"/>
        <column dbType="int4" javaType="Integer" name="ref_second_id"
            required="true" size="10" type="INTEGER"/>
        <foreign-key foreignSchema="public"
            foreignTable="white_compound_pk" name="fk_white_compound_pk_ref">
            <reference foreign="pk_first_id" local="ref_first_id"/>
            <reference foreign="pk_second_id" local="ref_second_id"/>
        </foreign-key>
    </table>
    <table name="white_compound_pk_wrong_order"
        schema="exampledb.public" type="TABLE">
        <column dbType="int4" javaType="Integer" name="first_id"
            pkName="white_compound_pk_wrong_order_pkey" pkPosition="1"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column dbType="int4" javaType="Integer" name="second_id"
            pkName="white_compound_pk_wrong_order_pkey" pkPosition="3"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column dbType="int4" javaType="Integer" name="third_id"
            pkName="white_compound_pk_wrong_order_pkey" pkPosition="2"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column dbType="varchar" javaType="String" name="wrong_name"
            size="200" type="VARCHAR"/>
    </table>
    <table name="white_not_pk" schema="exampledb.public" type="TABLE">
        <column dbType="int8" javaType="Long" name="not_pk_id"
            required="true" size="19" type="BIGINT"/>
        <column dbType="varchar" javaType="String" name="not_pk_name"
            size="2147483647" type="VARCHAR"/>
        <column dbType="int4" javaType="Integer" name="not_pk_integer"
            size="10" type="INTEGER"/>
    </table>
    <table name="white_same_name" schema="exampledb.public" type="TABLE">
        <column dbType="int8" javaType="Long" name="same_name_id"
            pkName="white_same_name_pkey" pkPosition="1"
            primaryKey="true" required="true" size="19" type="BIGINT"/>
        <column dbType="varchar" javaType="String" name="same_name_name"
            size="200" type="VARCHAR"/>
        <column dbType="int4" javaType="Integer"
            name="same_name_integer" size="10" type="INTEGER"/>
        <column dbType="int4" javaType="Integer"
            name="next_schema_product_id" size="10" type="INTEGER"/>
    </table>
    <table name="white_same_name_ref" schema="exampledb.public" type="TABLE">
        <column dbType="int4" javaType="Integer" name="same_name_ref_id"
            pkName="white_same_name_ref_pkey" pkPosition="1"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column dbType="int8" javaType="Long" name="same_name_id"
            required="true" size="19" type="BIGINT"/>
        <column dbType="int8" javaType="Long" name="next_same_name_id"
            required="true" size="19" type="BIGINT"/>
        <foreign-key foreignSchema="public"
            foreignTable="white_same_name" name="fk_white_same_name_ref">
            <reference foreign="same_name_id" local="same_name_id"/>
        </foreign-key>
    </table>
    <table name="white_xls_man" schema="exampledb.public" type="TABLE">
        <column dbType="int8" javaType="Long" name="xls_man_id"
            pkName="white_xls_man_pkey" pkPosition="1" primaryKey="true"
            required="true" size="19" type="BIGINT"/>
        <column dbType="varchar" javaType="String"
            name="string_converted" size="2147483647" type="VARCHAR"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="timestamp_zero_default_millis" size="26, 3" type="TIMESTAMP"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="timestamp_zero_prefix_millis" size="26, 3" type="TIMESTAMP"/>
        <column dbType="timestamp" javaType="java.time.LocalDateTime"
            name="timestamp_zero_suffix_millis" size="26, 3" type="TIMESTAMP"/>
    </table>
    <table comment="退会理由: 会員に選ばせる定型的な退会理由のマスタ。" name="withdrawal_reason"
        schema="exampledb.public" type="TABLE">
        <column comment="退会理由コード: " dbType="bpchar" javaType="String"
            name="withdrawal_reason_code"
            pkName="withdrawal_reason_pkey" pkPosition="1"
            primaryKey="true" required="true" size="3" type="CHAR"/>
        <column
            comment="退会理由テキスト: 退会理由の内容。テキスト形式なので目いっぱい書けるが、&#xa;そうするとUI側できれいに見せるのが大変でしょうね。"
            dbType="text" javaType="String"
            name="withdrawal_reason_text" required="true"
            size="2147483647" type="VARCHAR"/>
        <column dbType="int4" javaType="Integer" name="display_order"
            required="true" size="10" type="INTEGER"/>
        <unique name="uq_withdrawal_reason_display_order">
            <unique-column name="display_order" position="1"/>
        </unique>
    </table>
    <sequenceGroup>
        <sequence incrementSize="1" maximumValue="9223372036854775807"
            minimumValue="1" name="member_member_id_seq" schema="exampledb.public"/>
        <sequence incrementSize="1" maximumValue="9223372036854775807"
            minimumValue="1" name="member_address_member_address_id_seq" schema="exampledb.public"/>
        <sequence incrementSize="1" maximumValue="9223372036854775807"
            minimumValue="1" name="member_login_member_login_id_seq" schema="exampledb.public"/>
        <sequence incrementSize="1" maximumValue="9223372036854775807"
            minimumValue="1" name="member_service_member_service_id_seq" schema="exampledb.public"/>
        <sequence incrementSize="1" maximumValue="9223372036854775807"
            minimumValue="1" name="purchase_purchase_id_seq" schema="exampledb.public"/>
        <sequence incrementSize="1" maximumValue="9223372036854775807"
            minimumValue="1"
            name="purchase_payment_purchase_payment_id_seq" schema="exampledb.public"/>
        <sequence incrementSize="1" maximumValue="9223372036854775807"
            minimumValue="1" name="product_product_id_seq" schema="exampledb.public"/>
        <sequence incrementSize="1" maximumValue="9223372036854775807"
            minimumValue="1" name="seq_not_related_to_table" schema="exampledb.public"/>
        <sequence incrementSize="6" maximumValue="9223372036854775807"
            minimumValue="1" name="seq_purchase" schema="exampledb.public"/>
        <sequence incrementSize="1" maximumValue="9223372036854775807"
            minimumValue="1" name="seq_sub_display_order" schema="exampledb.public"/>
        <sequence incrementSize="1" maximumValue="9223372036854775807"
            minimumValue="1" name="seq_sub_purchase_count" schema="exampledb.public"/>
    </sequenceGroup>
</database>
